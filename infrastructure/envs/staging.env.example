# =============================================================================
# SEO Health Report System - Staging Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit actual secrets to version control

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_ENV=staging
DEBUG=false
LOG_LEVEL=INFO

# Application version (set by CI/CD)
APP_VERSION=0.0.0
GIT_SHA=unknown

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string for staging
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://seo_staging:${DB_PASSWORD}@staging-db.example.com:5432/seo_health_staging

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# JWT secret key (minimum 32 characters, use secure random string)
JWT_SECRET_KEY=your-staging-jwt-secret-key-min-32-chars

# Token expiration (seconds)
JWT_ACCESS_TOKEN_EXPIRE_SECONDS=3600
JWT_REFRESH_TOKEN_EXPIRE_SECONDS=604800

# Password hashing
PASSWORD_HASH_ROUNDS=12

# -----------------------------------------------------------------------------
# API Keys & External Services
# -----------------------------------------------------------------------------
# Google PageSpeed API key
PAGESPEED_API_KEY=your-pagespeed-api-key

# OpenAI API key (for AI analysis features)
OPENAI_API_KEY=your-openai-api-key

# Stripe API keys (test mode for staging)
STRIPE_SECRET_KEY=sk_test_your-stripe-test-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=https://staging.seohealthreport.com,https://staging-dashboard.seohealthreport.com

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Requests per minute by tier
RATE_LIMIT_BASIC=100
RATE_LIMIT_PRO=500
RATE_LIMIT_ENTERPRISE=2000

# Audit limits
MAX_CONCURRENT_AUDITS_BASIC=2
MAX_CONCURRENT_AUDITS_PRO=5
MAX_CONCURRENT_AUDITS_ENTERPRISE=20

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Report storage path
REPORT_STORAGE_PATH=/app/reports

# S3/Object storage (optional)
# S3_BUCKET_NAME=seo-health-staging
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=4
WORKER_LEASE_SECONDS=300
WORKER_HEARTBEAT_INTERVAL=30

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# Metrics endpoint enabled
METRICS_ENABLED=true

# Sentry DSN (optional)
# SENTRY_DSN=https://your-sentry-dsn

# -----------------------------------------------------------------------------
# Feature Flags (Staging)
# -----------------------------------------------------------------------------
FEATURE_AI_ANALYSIS=true
FEATURE_COMPETITIVE_INTEL=true
FEATURE_PREMIUM_REPORTS=true
FEATURE_WEBHOOKS=true

# -----------------------------------------------------------------------------
# Staging-Specific Settings
# -----------------------------------------------------------------------------
# Allow test accounts
ALLOW_TEST_ACCOUNTS=true

# Shorter cache TTL for testing
CACHE_TTL_SECONDS=300

# Verbose error messages in responses (staging only)
VERBOSE_ERRORS=true
