# SEO Health Report - Environment Variables Example
#
# Copy this file to .env and set your actual values.
# Variables are optional unless marked [REQUIRED].
#
# Configuration is managed by packages/config/ using Pydantic Settings.
# See packages/config/__init__.py for the configuration API.
#
# ==========================================
# LLM MODEL STRATEGY (IMPORTANT)
# ==========================================
#
# This system uses 5 AI providers for different purposes:
#
# ┌─────────────┬─────────────────────────────────────────────────────────────┐
# │ Provider    │ Best Use Case                                               │
# ├─────────────┼─────────────────────────────────────────────────────────────┤
# │ Anthropic   │ SEO analysis, content recommendations, executive summaries  │
# │ OpenAI      │ Cross-source synthesis, narrative summaries, report writing │
# │ Perplexity  │ "Does brand appear in AI search?" with citations & sources │
# │ xAI Grok    │ Real-time reputation, X/Twitter sentiment, current trends   │
# │ Gemini      │ Large-context analysis (multi-page), image generation       │
# └─────────────┴─────────────────────────────────────────────────────────────┘
#
# TWO-TIER MODEL STRATEGY:
# - *_MODEL_FAST:    High-volume presence checks (cheap, low latency)
# - *_MODEL_QUALITY: SEO analysis, recommendations, summaries (higher quality)
#
# COST OPTIMIZATION TIPS:
# 1. Use FAST models for "does brand appear?" checks (100s of queries)
# 2. Use QUALITY models only for final analysis and report generation
# 3. Constrain max_tokens to 200-400 for presence checks
# 4. Request JSON output for structured data (reduces token usage)

# ==========================================
# Environment Configuration
# ==========================================

# Application environment (development, staging, production, test)
# Aliases: dev, local, stage, stg, prod, prd, live, testing, ci
APP_ENV=development

# ==========================================
# Database [Required]
# ==========================================

# SQLite (dev default) or PostgreSQL (production)
DATABASE_URL=sqlite:///./seo_health.db
# DATABASE_URL=postgresql://user:password@localhost:5432/seo_health

# ==========================================
# Authentication / JWT [Required for production]
# ==========================================

# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# FATAL: API refuses to start in production if this is left as default
JWT_SECRET_KEY=dev-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# ==========================================
# Stripe Payments [Required for checkout]
# ==========================================

# From https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
BASE_URL=http://localhost:8000

# ==========================================
# Worker Configuration
# ==========================================

WORKER_POLL_INTERVAL=5
WORKER_LEASE_SECONDS=300
# WORKER_ID=worker-custom-name

# ==========================================
# API Keys - AI Systems [Required for AI features]
# ==========================================
#
# The system uses a TWO-TIER model strategy:
# - FAST models: High-volume brand presence checks (cheap, low latency)
# - QUALITY models: SEO analysis, recommendations, executive summaries
#
# Each provider has strengths for specific tasks:
# - Anthropic: Best for nuanced SEO recommendations and content analysis
# - OpenAI: Best for coherent narrative summaries and cross-source synthesis
# - Perplexity: Best for search-grounded answers with citations (recency matters)
# - xAI Grok: Best for real-time reputation/discourse from X/Twitter
# - Gemini: Best for large-context analysis and image generation

# ------------------------------------------
# Anthropic (Claude) - Primary SEO Analysis
# ------------------------------------------
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Fast model for high-volume presence checks
ANTHROPIC_MODEL_FAST=claude-4-haiku-20251120

# Quality model for SEO recommendations and executive summaries
ANTHROPIC_MODEL_QUALITY=claude-sonnet-4-5-20250929

# Default model (used if task type not specified)
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# ------------------------------------------
# OpenAI (ChatGPT) - Summaries & Synthesis
# ------------------------------------------
# Get your key at: https://platform.openai.com/
OPENAI_API_KEY=your_openai_api_key_here

# Fast model for presence checks (ultra cost-optimized: $0.025/1M input)
OPENAI_MODEL_FAST=gpt-5-nano

# Quality model for report generation ($0.625/1M input)
OPENAI_MODEL_QUALITY=gpt-5

# Default model (balanced: $0.125/1M input)
OPENAI_MODEL=gpt-5-mini

# Image generation model (cost-optimized: $2.50/1M input vs $10/1M for gpt-image-1)
# Options: gpt-image-1-mini (cheapest), gpt-image-1, gpt-image-1.5 (best quality)
OPENAI_IMAGE_MODEL=gpt-image-1-mini

# ------------------------------------------
# Perplexity - Search-Augmented AI Visibility
# ------------------------------------------
# Get your key at: https://www.perplexity.ai/settings/api
# Best for: "Does brand appear in AI search results?" with citations
PERPLEXITY_API_KEY=your_perplexity_api_key_here

# Fast model for quick presence checks
PERPLEXITY_MODEL_FAST=sonar

# Quality model with better citations/recency (use for competitive analysis)
PERPLEXITY_MODEL_QUALITY=sonar-pro

# Default model
PERPLEXITY_MODEL=sonar

# ------------------------------------------
# xAI (Grok) - Real-time Reputation & Discourse
# ------------------------------------------
# Get your key at: https://console.x.ai/
# Best for: Current sentiment, trending topics, X/Twitter discourse
XAI_API_KEY=your_xai_api_key_here

# Fast model for presence checks
XAI_MODEL_FAST=grok-4-1-fast-reasoning

# Quality model for reputation synthesis
XAI_MODEL_QUALITY=grok-4-1-fast-reasoning

# Default model
XAI_MODEL=grok-4-1-fast-reasoning

# ==========================================
# Google Ecosystem Configuration
# ==========================================

# Google API key (fallback for all Google services)
# Works for PageSpeed, Knowledge Graph, and Gemini
# Get your key at: https://console.cloud.google.com/
GOOGLE_API_KEY=your_google_api_key_here

# Google Gemini API key for AI queries and image generation
# Falls back to GOOGLE_API_KEY if not set
GOOGLE_GEMINI_API_KEY=your_gemini_api_key_here

# Google Knowledge Graph API key
# Falls back to GOOGLE_API_KEY if not set
GOOGLE_KG_API_KEY=your_knowledge_graph_api_key_here

# PageSpeed Insights API key
# Falls back to GOOGLE_API_KEY if not set
PAGESPEED_API_KEY=your_pagespeed_api_key_here

# ------------------------------------------
# Google Gemini Models
# ------------------------------------------
# Best for: Large-context analysis (multi-page content), image generation

# Fast model for presence checks and quick queries
GOOGLE_MODEL_FAST=gemini-3.0-flash

# Quality model for large-context SEO analysis
GOOGLE_MODEL_QUALITY=gemini-3.0-pro

# Default model
GOOGLE_MODEL=gemini-3.0-flash

# Image generation model (for report visuals)
# Image generation model (for report visuals)
# Available: imagen-4.0-fast-generate-001, imagen-4.0-generate-001, imagen-4.0-ultra-generate-001
GOOGLE_IMAGE_MODEL=imagen-4.0-fast-generate-001

# ------------------------------------------
# Logo & Brand Data
# ------------------------------------------
# Logo.dev Public Key (Free tier available)
# Get key: https://logo.dev/
LOGODEV_PUBLIC_KEY=pk_public_key_here

# ==========================================
# Payment Configuration (Stripe)
# ==========================================

# Stripe secret key for payments [Required for payments]
# Get your key at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Stripe webhook signing secret [Required for webhooks]
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ==========================================
# Authentication Configuration
# ==========================================

# JWT secret key for token signing [Required in production]
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Must be at least 32 characters in production
JWT_SECRET_KEY=your_super_secret_jwt_key_at_least_32_chars

# JWT algorithm (default: HS256)
JWT_ALGORITHM=HS256

# JWT token expiration in hours (default: 24)
JWT_EXPIRE_HOURS=24

# ==========================================
# Database Configuration
# ==========================================

# Database connection URL [Required for API server]
# PostgreSQL: postgresql://user:password@host:5432/dbname
# SQLite: sqlite:///./seo_health.db
DATABASE_URL=sqlite:///./seo_health.db

# ==========================================
# API Server Configuration
# ==========================================

# Base URL for the API server (used for callbacks)
BASE_URL=http://localhost:8000

# Default API timeout in seconds (default: 30)
SEO_HEALTH_API_TIMEOUT=30

# ==========================================
# Cache Configuration
# ==========================================

# Cache directory path (default: ~/.seo-health-cache)
SEO_HEALTH_CACHE_DIR=~/.seo-health-cache

# PageSpeed cache TTL in seconds (default: 86400 = 24 hours)
SEO_HEALTH_CACHE_TTL_PAGESPEED=86400

# AI response cache TTL in seconds (default: 604800 = 7 days)
SEO_HEALTH_CACHE_TTL_AI=604800

# HTTP fetch cache TTL in seconds (default: 3600 = 1 hour)
SEO_HEALTH_CACHE_TTL_HTTP=3600

# ==========================================
# Scoring Configuration
# ==========================================

# Scoring weights (must sum to 1.0)
# Formula: Overall = (Technical × 0.30) + (Content × 0.35) + (AI × 0.35)
SEO_HEALTH_WEIGHT_TECHNICAL=0.30
SEO_HEALTH_WEIGHT_CONTENT=0.35
SEO_HEALTH_WEIGHT_AI=0.35

# Grade thresholds (0-100, must be in descending order: A > B > C > D)
SEO_HEALTH_GRADE_A=90
SEO_HEALTH_GRADE_B=80
SEO_HEALTH_GRADE_C=70
SEO_HEALTH_GRADE_D=60

# ==========================================
# PageSpeed Configuration
# ==========================================

# PageSpeed strategy: mobile or desktop (default: mobile)
SEO_HEALTH_PAGESPEED_STRATEGY=mobile

# PageSpeed API endpoint (default: Google's endpoint)
# SEO_HEALTH_PAGESPEED_ENDPOINT=https://www.googleapis.com/pagespeedonline/v5/runPagespeed

# ==========================================
# AI Query Configuration
# ==========================================

# AI query timeout in seconds (default: 30)
SEO_HEALTH_AI_TIMEOUT=30

# Rate limit between AI queries in milliseconds (default: 1000)
SEO_HEALTH_AI_RATE_LIMIT=1000

# ==========================================
# Crawl Configuration
# ==========================================

# Maximum crawl depth (default: 50)
SEO_HEALTH_CRAWL_DEPTH=50

# Crawl timeout in seconds (default: 30)
SEO_HEALTH_CRAWL_TIMEOUT=30

# User agent for crawl requests
SEO_HEALTH_USER_AGENT=SEO-Health-Report-Bot/1.0 (Technical Audit)

# ==========================================
# Output Configuration
# ==========================================

# Default output format: docx, pdf, or md (default: docx)
SEO_HEALTH_OUTPUT_FORMAT=docx

# Default output directory (default: current directory)
SEO_HEALTH_OUTPUT_DIR=.

# ==========================================
# Logging Configuration
# ==========================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
SEO_HEALTH_LOG_LEVEL=INFO

# Log directory (default: logs)
SEO_HEALTH_LOG_DIR=logs

# Log filename (default: seo-health-report.log)
SEO_HEALTH_LOG_FILE=seo-health-report.log

# Log file max size in bytes (default: 10485760 = 10MB)
SEO_HEALTH_LOG_MAX_BYTES=10485760

# Number of log backup files to keep (default: 5)
SEO_HEALTH_LOG_BACKUP_COUNT=5

# ==========================================
# Content Analysis Configuration
# ==========================================

# Minimum content length in characters (default: 300)
SEO_HEALTH_MIN_CONTENT_LENGTH=300

# Maximum title length in characters (default: 60)
SEO_HEALTH_MAX_TITLE_LENGTH=60

# Maximum meta description length in characters (default: 160)
SEO_HEALTH_MAX_DESC_LENGTH=160

# ==========================================
# Storage Configuration (S3)
# ==========================================

# S3 bucket name for report storage [Required for S3 storage]
# If not set, local filesystem storage is used
S3_BUCKET_NAME=

# AWS region for S3 bucket (default: us-east-1)
AWS_REGION=us-east-1

# AWS credentials (optional if using IAM roles or instance profiles)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ==========================================
# DataForSEO API [Required for real backlink/SERP data]
# ==========================================
#
# Primary API for SERP tracking, backlinks, keyword data, and competitor intel.
# Pay-as-you-go pricing (~$2.59/report). Create account: https://dataforseo.com/
#
# Provides:
# - Real backlink profile data (domain rank, referring domains, anchors)
# - Keyword position tracking (where you actually rank in Google)
# - SERP feature detection (featured snippets, AI Overviews, Local Pack)
# - Keyword gap analysis (what competitors rank for that you don't)
# - On-page crawl analysis (broken links, duplicate tags)

# DataForSEO login email [Required for backlinks/SERP]
DATAFORSEO_LOGIN=
# DataForSEO API password (not your account password) [Required for backlinks/SERP]
DATAFORSEO_PASSWORD=

# ==========================================
# Google Search Console [Recommended]
# ==========================================
#
# FREE data from Google — actual clicks, impressions, CTR, and positions.
# No third-party API can provide this data. Setup:
# 1. Create Google Cloud project with Search Console API enabled
# 2. Create service account, download JSON key file
# 3. Add service account email as user in Search Console
#
# Provides:
# - Real click and impression data from Google Search
# - Average CTR and position per keyword
# - Indexing status and coverage issues
# - Sitemap submission status

# Path to service account JSON key file [Required for GSC]
GOOGLE_GSC_CREDENTIALS_JSON=
# Search Console property URL (e.g., https://example.com/) [Required for GSC]
GOOGLE_GSC_SITE_URL=

# ==========================================
# Pipeline Orchestration
# ==========================================

# Maximum audit duration in minutes (default: 15)
AUDIT_MAX_DURATION_MINUTES=15
# Maximum API cost per report in USD (default: 10.00)
AUDIT_MAX_COST_PER_REPORT=10.00
# Maximum pages to crawl during on-page analysis (default: 100)
AUDIT_CRAWL_DEPTH=100
